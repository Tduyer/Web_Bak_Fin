<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Profile â€¢ Recipe Sharing</title>
    <link rel="stylesheet" href="/styles.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

</head>
<body>
<div id="navbar"></div>

<main class="container grid two">

    <section class="card">
        <h1>Your Profile</h1>
        <p class="sub">Manage your account information.</p>
        <hr class="sep"/>

        <div id="profileBox" class="sub">Loading...</div>

        <hr class="sep"/>

        <h2 style="margin:0">Update Profile</h2>
        <form class="form" id="formProfile">
            <label>Username
                <input type="text" id="pUsername" minlength="3" maxlength="30"/>
            </label>
            <label>Email
                <input type="email" id="pEmail"/>
            </label>
            <button class="btn" type="submit">Save</button>
        </form>
        <p class="msg" id="profileMsg"></p>
    </section>

    <section class="card">
        <div class="row" style="justify-content:space-between">
            <h2 style="margin:0">Your Recipes</h2>
            <div class="row">
                <button class="btn btn--ghost small" id="btnMine">My recipes</button>
                <button class="btn btn--ghost small hidden" id="btnAll">Load All (admin)</button>
            </div>
        </div>

        <div id="myList" class="catalog" style="max-height:520px;overflow:auto;padding-right:6px">
            Loading...
        </div>

        <p class="msg" id="recipesMsg"></p>
    </section>

    <section class="card hidden" id="adminPanel">
        <h2>Admin Panel</h2>
        <p class="sub">Pending recipes awaiting approval.</p>

        <div id="pendingList" class="catalog" style="max-height:520px;overflow:auto;padding-right:6px">
            Loading...
        </div>

        <p class="msg" id="adminMsg"></p>
    </section>
    <!-- EDIT MODAL -->
    <div id="editOverlay" class="modal-overlay hidden">
        <div class="card modal">
            <div class="row" style="justify-content:space-between;align-items:center">
                <h2 style="margin:0">Edit Recipe</h2>
                <button class="btn btn--ghost small" id="editClose">Close</button>
            </div>

            <form class="form" id="editForm" style="margin-top:12px">
                <input type="hidden" id="eId"/>

                <label>Title
                    <input id="eTitle" maxlength="80" required />
                </label>

                <label>Description
                    <textarea id="eDesc" maxlength="400" rows="3"></textarea>
                </label>

                <label>Ingredients (comma separated)
                    <textarea id="eIngredients" rows="2" required></textarea>
                </label>

                <label>Steps (one per line)
                    <textarea id="eSteps" rows="4" required></textarea>
                </label>

                <label>Tags (comma separated)
                    <input id="eTags" />
                </label>

                <label>Image URL
                    <input id="eImageUrl" />
                </label>

                <div class="row" style="justify-content:space-between">
                    <label class="row" style="gap:8px;margin:0">
                        <input type="checkbox" id="ePublic" />
                        <span class="sub">Public</span>
                    </label>

                    <button class="btn" type="submit">Save changes</button>
                </div>
            </form>

            <p class="msg" id="editMsg"></p>
        </div>
    </div>

</main>
<div id="footer"></div>
<script src="/js/common.js"></script>
<script src="/js/profilePage.js"></script>


</body>
</html>
